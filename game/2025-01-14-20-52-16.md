---
created: 1736887936
modified: 1736887939
---

import numpy as np
import matplotlib.pyplot as plt

# ---- Fractal Generation ----
def generate_mandelbrot(xmin, xmax, ymin, ymax, nx, ny, max_iter):
    x = np.linspace(xmin, xmax, nx)
    y = np.linspace(ymin, ymax, ny)
    c = x[:, None] + 1j * y[None, :]
    z = np.zeros_like(c, dtype=complex)
    div_time = np.zeros(z.shape, dtype=int)
    mask = np.full(z.shape, True, dtype=bool)

    for i in range(max_iter):
        z[mask] = z[mask] ** 2 + c[mask]
        mask = np.abs(z) < np.inf
        div_time[~mask & (div_time == 0)] = i

    return div_time

# Fractal parameters
xmin, xmax, ymin, ymax = -2, 2, -2, 2
nx, ny = 1000, 1000
max_iter = 500

# Generate fractal data
div_time = generate_mandelbrot(xmin, xmax, ymin, ymax, nx, ny, max_iter)

# Plot the fractal
plt.figure(figsize=(8, 8))
plt.imshow(div_time, cmap="inferno", extent=(xmin, xmax, ymin, ymax))
plt.colorbar(label="Iterations to Diverge")
plt.title("Mandelbrot Fractal")
plt.xlabel("Re")
plt.ylabel("Im")
plt.show()
